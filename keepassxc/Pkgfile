# Description: KeePass Cross-Platform Community Edition
# URL: https://keepassxc.org/
# Maintainer: Tim Biermann, tbier at posteo dot de
# Depends on: qt5 qrencode libgcrypt yubico-c yubikey-personalization libgpg-error llvm argon2 libsodium

name=keepassxc
version=2.4.1
release=1
source=(https://github.com/keepassxreboot/keepassxc/releases/download/$version/$name-$version-src.tar.xz)

build() {
  cd $name-$version
  mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_INSTALL_BINDIR=/usr/bin \
    -DCMAKE_INSTALL_LIBDIR=/usr/lib \
    -DCMAKE_BUILD_TYPE=Release \
    -DWITH_XC_ALL=ON \
    ..
  make
  make DESTDIR=$PKG install
  rm -fr $PKG/usr/share/keepassxc/translations
}
