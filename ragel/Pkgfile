# Description: Compiles finite state machines from regular languages into executable C, C++, Objective-C, or D code.
# URL: http://www.complang.org/ragel/
# Maintainer: Tim Biermann, tbier at posteo dot de
# Depends on:

name=ragel
version=6.10
release=2
source=(http://www.colm.net/files/$name/$name-$version.tar.gz)

build() {
  cd $name-$version
  ./configure --prefix=/usr \
    CXXFLAGS="$CXXFLAGS \
    -std=gnu++98"
  make
  make DESTDIR=$PKG install
  install -m0644 -D ragel.vim $PKG/usr/share/vim/vimfiles/syntax/ragel.vim
  rm -fr $PKG/usr/share/doc/ragel
}
